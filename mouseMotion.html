<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Mouse Motion</title>
  </head>
  <body>
    <p>
      Drag the bar to change its width:
    </p>
    <div style="background: orange; width: 60px; height: 20px;">

    </div>
  </body>

  <script type="text/javascript">

  var lastX;
  var rect = document.querySelector("div");
  rect.addEventListener("mousedown", function(event){
    if(event.which == 1){
      lastX = event.pageX;
      addEventListener("mousemove", moved);
      event.preventDefault();
    }
  });

  function moved(event){
    if(event.which != 1){
      removeEventListener("mousemove", moved);
    }
    else {
      var dist = event.pageX - lastX;
      var newWidth = Math.max(10, rect.offsetWidth + dist);
      rect.style.width = newWidth + "px";
      lastX = event.pageX;
    }
  }

  </script>
</html>
